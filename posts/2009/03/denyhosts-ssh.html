<html><body><a href="http://www.denyhosts.net">Denyhosts</a> - весьма полезная утилита для пресечения попыток подобрать пароль к ssh.<br><br>Устанавливается без каких-либо проблем: <code lang="bash">emerge denyhosts</code> в Gentoo, для других дистрибутивов пакеты также существуют и как правило находятся в основном репозитории.<br><br>Denyhosts работает следующим образом: он проверяет логи и добавляет в /etc/hosts.deny ip адреса, с которых наблюдается много попыток неудачного входа. Для того чтобы это работало, ssh должен быть собран с tcpwrappers (что всегда разумно и делается по умолчанию).<br><br>У denyhosts достаточно гибкие настройки, можно указать после скольких неудачных попыток блокировать хост, на какой период это делать и т.п. Настойки по умолчанию на мой взгляд черезчур суровы, поэтому имеет смысл отредактировать файл /etc/denyhosts.conf, который весьма прост для понимания и имеет подробные комментарии.<br><br>Есть два способа запустить denyhosts: в качестве демона или в качестве cron-задания. Памяти он потребляет немного, поэтому проще первое:<br><pre>/etc/init.d/denyhosts start<br>rc-upade add denyhosts default<br></pre></body></html>